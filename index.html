<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon Idle Game</title>
    <link rel="stylesheet" href="css/style.css">

</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Pokemon Idle Adventure</h1>
            <div style="margin-top: 10px;">
                <button class="btn small" onclick="manualSaveGame()" style="background: #2ecc71; margin-right: 5px;">
                    Save Game
                </button>
                <button class="btn small" onclick="confirmClearSave()" style="background: #e74c3c;">
                    Clear Save Data
                </button>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="money">100</div>
                <div>Money</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="pokedex-count">0 (0 Shiny)</div>
                <div>Pokedex</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="battle-wins">0</div>
                <div>Wins</div>
            </div>
        </div>

        <div class="items-bar">
            <!-- Poké Balls -->
            <div class="item-display" title="Poké Balls">
                <img src="sprites/items/poke-ball.png" alt="Poké Ball" class="item-icon">
                <span class="item-count" id="pokeballs-standard">10</span>
                <div class="custom-tooltip" id="tooltip-itembar-pokeball"></div>
            </div>
            <div class="item-display" title="Great Balls">
                <img src="sprites/items/great-ball.png" alt="Great Ball" class="item-icon">
                <span class="item-count" id="pokeballs-great">0</span>
                <div class="custom-tooltip" id="tooltip-itembar-greatball"></div>
            </div>
            <div class="item-display" title="Ultra Balls">
                <img src="sprites/items/ultra-ball.png" alt="Ultra Ball" class="item-icon">
                <span class="item-count" id="pokeballs-ultra">0</span>
                <div class="custom-tooltip" id="tooltip-itembar-ultraball"></div>
            </div>
            <!-- Potions -->
            <div class="item-display" title="Potions">
                <img src="sprites/items/potion.png" alt="Potion" class="item-icon">
                <span class="item-count" id="potions-potion">0</span>
                <div class="custom-tooltip" id="tooltip-itembar-potion"></div>
            </div>
            <div class="item-display" title="Hyper Potions">
                <img src="sprites/items/hyper-potion.png" alt="Hyper Potion" class="item-icon">
                <span class="item-count" id="potions-hyperpotion">0</span>
                <div class="custom-tooltip" id="tooltip-itembar-hyperpotion"></div>
            </div>
            <div class="item-display" title="Moomoo Milks">
                <img src="sprites/items/moomoo-milk.png" alt="Moomoo Milk" class="item-icon">
                <span class="item-count" id="potions-moomoomilk">0</span>
                <div class="custom-tooltip" id="tooltip-itembar-moomoomilk"></div>
            </div>
        </div>

        <div class="game-area">
            <div class="panel battle-area">
                <!-- Wrapper to manage consistent height and bottom margin for route controls -->
                <div id="route-controls-wrapper" style="margin-bottom: 10px;">
                    <!-- Container for just the label and select dropdown -->
                    <div id="route-select-container" class="route-selector-group">
                        <label for="route-select" style="margin-bottom: 5px; font-weight: bold; display: block;">Select
                            Route:</label>
                        <select id="route-select" onchange="handleRouteChange(this.value)"
                            style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #555; background-color: #333; color: white; box-sizing: border-box;"></select>
                    </div>
                    <!-- Leave Route Button, now separate and initially hidden -->
                    <button id="leave-route-btn" class="leave-route btn medium secondary " onclick="leaveCurrentRoute()"
                        style="background-color: #f39c12; display: none; 
                                   width: 100%; 
                                   box-sizing: border-box;">
                        Leave Current Route
                    </button>
                </div>

                <div class="route-info" id="route-info">
                    Route 1 - Beginner Area (Lv.1-10)
                </div>

                <div class="battle-field">
                    <div id="wild-pokemon" class="pokemon-battle wild">
                        <div class="pokemon-info">
                            <div id="wild-name" class="pokemon-battle-name">Wild Pokemon</div>
                            <div id="wild-level" class="pokemon-battle-level">Lv.0</div>
                            <div class="hp-bar">
                                <div class="hp-fill" id="wild-hp" style="width: 100%"></div>
                            </div>
                            <div class="hp-text" id="wild-hp-text">HP: 0/0</div>
                            <div class="pokemon-stats" id="wild-stats">ATK: 0 | DEF: 0</div>
                        </div>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="Wild Pokemon"
                            class="pokemon-sprite" id="wild-sprite">
                    </div>

                    <div id="player-pokemon" class="pokemon-battle player">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="Player Pokemon"
                            class="pokemon-sprite" id="player-sprite">
                        <div class="pokemon-info">
                            <div id="player-name" class="pokemon-battle-name">No Pokemon</div>
                            <div id="player-level" class="pokemon-battle-level">Lv.0</div>
                            <div class="hp-bar">
                                <div class="hp-fill" id="player-hp" style="width: 0%"></div>
                            </div>
                            <div class="hp-text" id="player-hp-text">HP: 0/0</div>
                            <div class="pokemon-stats" id="player-stats">ATK: 0 | DEF: 0</div>
                        </div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn" id="fight-btn" onclick="manualBattle()">
                        Fight!
                    </button>
                    <button class="btn" id="auto-fight-btn" onclick="toggleAutoFight()"
                        style="background-color: #4CAF50; margin-left: 5px;" disabled>
                        Auto-Fight (LOCKED)
                    </button>
                </div>
                <div class="controls" style="margin-top: 5px; display: flex; flex-wrap: wrap; gap: 5px;">
                    <button class="btn secondary catch-ball-btn" id="catch-pokeball-btn"
                        onclick="attemptCatch('pokeball')" disabled style="flex-grow: 1;">
                        Catch (Poké Ball - 0)
                    </button>
                    <button class="btn secondary catch-ball-btn" id="catch-greatball-btn"
                        onclick="attemptCatch('greatball')" disabled style="flex-grow: 1; background-color: #3498db;">
                        Catch (Great Ball - 0)
                    </button>
                    <button class="btn secondary catch-ball-btn" id="catch-ultraball-btn"
                        onclick="attemptCatch('ultraball')" disabled
                        style="flex-grow: 1; background-color: #f1c40f; color: #333;">
                        Catch (Ultra Ball - 0)
                    </button>
                    <!-- Add more catch buttons here if new balls are added -->
                </div>

                <!-- Potion Use Controls -->
                <div class="controls item-controls" style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 5px;">
                    <button class="btn item-use-btn" id="use-potion-btn" onclick="usePotion('potion')" disabled
                        style="flex-grow: 1; background-color: #90ee90; color: #333;">
                        Use Potion (0)
                    </button>
                    <button class="btn item-use-btn" id="use-hyperpotion-btn" onclick="usePotion('hyperpotion')"
                        disabled style="flex-grow: 1; background-color: #add8e6; color: #333;">
                        Use Hyper Potion (0)
                    </button>
                    <button class="btn item-use-btn" id="use-moomoomilk-btn" onclick="usePotion('moomoomilk')" disabled
                        style="flex-grow: 1; background-color: #fffacd; color: #333;">
                        Use Moomoo Milk (0)
                    </button>
                </div>


                <div class="battle-log" id="battle-log">
                    <div class="log-entry">Welcome to Pokemon Idle Adventure!</div>
                </div>
            </div>

            <div class="panel party-area">
                <div class="party-slots" id="party-slots">
                    <div class="party-slot" id="party-0">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                    <div class="party-slot" id="party-1">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                    <div class="party-slot" id="party-2">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                    <div class="party-slot" id="party-3">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                    <div class="party-slot" id="party-4">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                    <div class="party-slot" id="party-5">
                        <div style="color: #ccc;">Empty Slot</div>
                    </div>
                </div>

                <!-- Heal All button removed -->
            </div>

            <div class="panel shop-panel"> <!-- New Shop Panel -->
                <h2>Poké Mart</h2>
                <div class="shop-sections-container">
                    <div class="shop-section">
                        <h3>Poké Balls</h3>
                        <div class="shop-item" id="shop-item-pokeball">
                            <img src="sprites/items/poke-ball.png" alt="Pokeball" class="shop-item-icon">
                            <span>Pokeball (x1)</span>
                            <button class="btn small" onclick="buyBall('pokeball', 1)">Buy - 200₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-pokeball"></div>
                        </div>
                        <div class="shop-item" id="shop-item-greatball">
                            <img src="sprites/items/great-ball.png" alt="Great Ball" class="shop-item-icon">
                            <span>Great Ball (x1)</span>
                            <button class="btn small" onclick="buyBall('greatball', 1)">Buy - 600₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-greatball"></div>
                        </div>
                        <div class="shop-item" id="shop-item-ultraball">
                            <img src="sprites/items/ultra-ball.png" alt="Ultra Ball" class="shop-item-icon">
                            <span>Ultra Ball (x1)</span>
                            <button class="btn small" onclick="buyBall('ultraball', 1)">Buy - 1.200₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-ultraball"></div>
                        </div>
                    </div>
                    <div class="shop-section">
                        <h3>Healing & Other</h3>
                        <div class="shop-item" id="shop-item-potion">
                            <img src="sprites/items/potion.png" alt="Potion" class="shop-item-icon">
                            <span>Potion (x1)</span>
                            <button class="btn small" onclick="buyPotion('potion', 1)">Buy - 20₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-potion"></div>
                        </div>
                        <div class="shop-item" id="shop-item-hyperpotion">
                            <img src="sprites/items/hyper-potion.png" alt="Hyper Potion" class="shop-item-icon">
                            <span>Hyper Potion (x1)</span>
                            <button class="btn small" onclick="buyPotion('hyperpotion', 1)">Buy - 50₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-hyperpotion"></div>
                        </div>
                        <div class="shop-item" id="shop-item-moomoomilk">
                            <img src="sprites/items/moomoo-milk.png" alt="Moomoo Milk" class="shop-item-icon">
                            <span>Moomoo Milk (x1)</span>
                            <button class="btn small" onclick="buyPotion('moomoomilk', 1)">Buy - 80₽</button>
                            <div class="custom-tooltip" id="tooltip-shop-item-moomoomilk"></div>
                        </div>
                        <div class="shop-item" id="exp-share-shop-item">
                            <img src="sprites/items/exp-share.png" alt="XP Share" class="shop-item-icon">
                            <span>XP Share</span>
                            <button id="exp-share-buy-btn" class="btn small" onclick="buyXpShareUpgrade()">
                                <!-- Dynamically updated by JS -->
                            </button>
                            <div class="custom-tooltip" id="tooltip-exp-share-shop-item"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel team-area">
                <h2>PC</h2>
                <div id="team-list">
                    <div style="text-align: center; color: #ccc; margin-top: 50px;">
                        No Pokemon caught yet!<br>
                        Battle and catch Pokemon to fill your collection.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Starter Selection Modal -->
    <div id="starter-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Choose your Starter Pokémon!</h2>
            <div class="starter-options">
                <!-- Starter options will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script src="scripts/script.js"></script>
</body>

</html>